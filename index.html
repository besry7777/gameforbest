<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>PARTY ‡πÑ‡∏ó‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡πâ‡∏ß‡∏¢‡∏ó‡∏£‡∏≤‡∏¢</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;800&display=swap" rel="stylesheet">
<script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>

<style>
/* ================= CSS ================= */
:root {
    --bg-color: #121212;
    --card-bg: #1e1e1e;
    --primary: #00e676;
    --text-main: #ffffff;
    --text-muted: #b0b0b0;
    --danger: #ef5350;
    --warning: #ffca28;
    --radius: 16px;
}

* {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    font-family: 'Sarabun', sans-serif;
    touch-action: manipulation; 
}

body {
    background-color: var(--bg-color);
    color: var(--text-main);
    margin: 0;
    padding: 0;
    height: 100dvh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

#game-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    padding: 16px;
    position: relative;
    z-index: 1;
}

header {
    flex: 0 0 auto;
    text-align: center;
    margin-bottom: 10px;
}

h1 {
    font-size: 1.8rem;
    margin: 0;
    font-weight: 800;
    letter-spacing: 1px;
    color: var(--primary);
    text-transform: uppercase;
}

.display-area {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-color: var(--card-bg);
    border-radius: var(--radius);
    padding: 20px;
    border: 1px solid #333;
    position: relative;
    margin-bottom: 16px;
    overflow: hidden;
    min-height: 0;
}

.big-instruction {
    font-size: clamp(1.4rem, 5vw, 2.2rem);
    font-weight: 800;
    color: #fff;
    text-align: center;
    line-height: 1.4;
    width: 100%;
    word-wrap: break-word;
    z-index: 2;
    max-height: 60vh;
    overflow-y: auto;
}

.category-badge {
    display: inline-block;
    padding: 6px 16px;
    border-radius: 50px;
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 15px;
    color: #000;
    opacity: 0;
    transition: opacity 0.3s;
}

.hint-text {
    margin-top: auto;
    padding-top: 15px;
    color: var(--text-muted);
    font-size: 0.8rem;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.pop-in { animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
@keyframes popIn {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}
.blur-anim { filter: blur(4px); opacity: 0.6; }

.controls-area {
    flex: 0 0 auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.btn {
    width: 100%;
    padding: 18px;
    font-size: 1.3rem;
    border: none;
    border-radius: var(--radius);
    font-weight: 800;
    cursor: pointer;
    background-color: var(--primary);
    color: #000;
    transition: transform 0.1s;
}
.btn:active { transform: scale(0.97); }
.btn:disabled { background-color: #333; color: #555; cursor: not-allowed; }
.btn-secondary { background-color: #2c2c2c; color: #fff; font-size: 1rem; padding: 12px; }

#count-display {
    position: absolute; top: 10px; right: 10px;
    font-size: 0.75rem; color: #666; background: #111;
    padding: 4px 8px; border-radius: 6px;
}
#sound-toggle {
    position: absolute; top: 10px; left: 10px;
    background: transparent; color: #666; border: 1px solid #333;
    border-radius: 20px; padding: 4px 10px; font-size: 0.7rem; cursor: pointer;
}

/* Mini Games Area */
#special-game-area {
    margin-top: 15px;
    width: 100%;
    display: none;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    background: rgba(255,255,255,0.05);
    border-radius: 12px;
    border: 1px solid #444;
}

.game-btn {
    background: var(--danger);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
    margin-bottom: 10px;
}

.skip-btn {
    background: transparent;
    border: 1px solid #666;
    color: #888;
    padding: 8px 16px;
    border-radius: 30px;
    font-size: 0.9rem;
    cursor: pointer;
    margin-top: 5px;
}

.timer-text {
    font-size: clamp(3rem, 10vw, 5rem);
    font-weight: 800;
    color: var(--danger);
    font-variant-numeric: tabular-nums;
    margin: 10px 0;
}

/* Wire Buttons for Bomb Game */
.wire-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    width: 100%;
}
.wire-btn {
    height: 60px;
    border-radius: 8px;
    border: 3px solid rgba(255,255,255,0.2);
    cursor: pointer;
    transition: all 0.2s;
}

/* Modal History */
.modal-overlay {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(3px);
    z-index: 100;
    display: flex; justify-content: center; align-items: flex-end;
    opacity: 0; pointer-events: none; transition: opacity 0.3s;
}
.modal-overlay.active { opacity: 1; pointer-events: all; }
.modal-content {
    background: #252525;
    width: 100%; max-width: 500px; height: 70vh;
    border-radius: 20px 20px 0 0;
    display: flex; flex-direction: column;
    transform: translateY(100%); transition: transform 0.3s ease;
}
.modal-overlay.active .modal-content { transform: translateY(0); }
.modal-header {
    padding: 15px 20px; border-bottom: 1px solid #333;
    display: flex; justify-content: space-between; align-items: center;
}
.modal-header h2 { margin: 0; font-size: 1.2rem; color: #fff; }
.close-modal { background: none; border: none; color: #aaa; font-size: 1.5rem; }
.history-list { flex: 1; overflow-y: auto; padding: 0; margin: 0; list-style: none; }
.history-item {
    padding: 15px 20px; border-bottom: 1px solid #333;
    font-size: 0.9rem; display: flex; align-items: flex-start; color: #ddd;
}
.history-tag {
    font-size: 0.65rem; padding: 2px 6px; border-radius: 4px;
    margin-right: 8px; color: #000; font-weight: bold; white-space: nowrap; margin-top: 3px;
}

/* --- Camera Overlay (‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏Å‡∏°‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏¥‡πâ‡∏°) --- */
#camera-overlay {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    background: #000;
    z-index: 2000;
    display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô */
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
#camera-video {
    position: absolute;
    width: 100%; height: 100%;
    object-fit: cover;
    opacity: 0.7;
}
#smile-ui-layer {
    position: relative; z-index: 2005;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    width: 100%; height: 100%;
    padding: 20px;
    text-align: center;
}
#smile-status {
    font-size: 1.5rem; font-weight: 800;
    color: #fff; text-shadow: 0 0 10px #000;
    margin-bottom: 20px;
}
#smile-timer {
    font-size: 5rem; font-weight: 800;
    color: #00e676;
    text-shadow: 0 0 20px #000;
    font-variant-numeric: tabular-nums;
}
.scanning-line {
    position: absolute; top: 0; left: 0; width: 100%; height: 5px;
    background: #00e676; box-shadow: 0 0 15px #00e676;
    z-index: 2001; animation: scan 2s infinite linear;
}
@keyframes scan { 0% { top: 0%; } 50% { top: 100%; } 100% { top: 0%; } }
.smile-detected {
    border: 10px solid #ef5350;
    box-shadow: inset 0 0 100px #ef5350;
}
@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    30% { transform: translate(3px, 2px) rotate(0deg); }
    50% { transform: translate(-1px, 2px) rotate(1deg); }
    70% { transform: translate(3px, 1px) rotate(-1deg); }
    100% { transform: translate(1px, -2px) rotate(0deg); }
}
.back-btn {
    background: #fff; color: #000;
    border: none; padding: 15px 30px;
    border-radius: 50px; font-size: 1.2rem;
    font-weight: bold; margin-top: 30px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    display: none; cursor: pointer;
}
</style>
</head>

<body>

<div id="camera-overlay">
    <video id="camera-video" autoplay muted playsinline></video>
    <div class="scanning-line"></div>
    <div id="smile-ui-layer">
        <div id="smile-status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î AI...</div>
        <div id="smile-timer">--</div>
        <button class="back-btn" onclick="closeCameraGame()">üîô ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
    </div>
</div>

<div id="game-container">
    <header>
        <h1>PARTY GAME</h1>
    </header>

    <div class="display-area">
        <button id="sound-toggle">üîä ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
        <div id="count-display"></div>

        <div id="category-badge" class="category-badge">CATEGORY</div>
        
        <div class="big-instruction" id="wheel-result">
            ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß<br>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢!
        </div>

        <div id="special-game-area"></div>

        <div class="hint-text">‡πÑ‡∏ó‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡πâ‡∏ß‡∏¢‡∏ó‡∏£‡∏≤‡∏¢ EDITION</div>
    </div>

    <div class="controls-area">
        <button class="btn" id="spin-btn" onclick="startSpin()">üî• ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏∏‡πâ‡∏ô!</button>
        <button class="btn btn-secondary" onclick="openHistory()">üìú ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
    </div>
</div>

<div class="modal-overlay" id="historyModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á</h2>
            <button class="close-modal" onclick="closeHistory()">‚úï</button>
        </div>
        <ul class="history-list" id="historyListDisplay"></ul>
    </div>
</div>

<audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-50.mp3"></audio>
<audio id="resultSound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
<audio id="alarmSound" src="https://www.soundjay.com/misc/sounds/magic-chime-01.mp3"></audio>
<audio id="gunSound" src="https://www.soundjay.com/mechanical/sounds/gun-cocking-01.mp3"></audio>
<audio id="bangSound" src="https://www.soundjay.com/mechanical/sounds/explosion-01.mp3"></audio>

<script>
// =================== 1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ===================

const normalQuestions = [
   // --- ‡πÇ‡∏ã‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ / Hardcore ---
   { t: "‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡∏ß!", c: "HARDCORE", color: "#ff3b3b" },
    { t: "‡∏Ñ‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏î‡∏∑‡πà‡∏° 1 ‡∏ä‡πá‡∏≠‡∏ï", c: "‡∏î‡∏ß‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", color: "#00ff88" },
    { t: "‡∏Ñ‡∏ô‡∏Ç‡∏ß‡∏≤‡∏î‡∏∑‡πà‡∏° 1 ‡∏ä‡πá‡∏≠‡∏ï", c: "‡∏î‡∏ß‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", color: "#00ff88" },
    { t: "‡πÄ‡∏û‡∏®‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏î", c: "HARDCORE", color: "#ff3b3b" },
    { t: "‡∏Ñ‡∏ô‡πÇ‡∏™‡∏î‡∏î‡∏∑‡πà‡∏°!", c: "STATUS", color: "#00ccff" },
    { t: "‡∏Ñ‡∏ô‡∏°‡∏µ‡πÅ‡∏ü‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏∑‡πà‡∏°!", c: "STATUS", color: "#00ccff" },
    { t: "‡∏Ñ‡∏ô‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡∏µ‡∏î‡∏≥‡∏î‡∏∑‡πà‡∏°", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏ï‡∏µ‡πâ‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏á‡∏î‡∏∑‡πà‡∏°", c: "BODY", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏á‡∏î‡∏∑‡πà‡∏°", c: "BODY", color: "#ff00cc" },
    { t: "‡∏Ñ‡∏ô‡πÉ‡∏™‡πà‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏Ç‡∏≤‡∏™‡∏±‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ô‡∏î‡∏∑‡πà‡∏° 1 ‡∏Ñ‡∏ô", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏∑‡πà‡∏°‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡πÜ", c: "BUDDY", color: "#ffae00" },
    { t: "‡∏™‡∏±‡πà‡∏á‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏î‡∏∑‡πà‡∏° 2 ‡∏ä‡πá‡∏≠‡∏ï", c: "POWER", color: "#ffd700" },
    { t: "‡∏Ñ‡∏ô‡∏Å‡∏î‡∏£‡∏≠‡∏î! ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏î‡∏∑‡πà‡∏°", c: "LUCKY", color: "#ffd700" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏≠‡∏≤‡∏¢‡∏∏‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏î‡∏∑‡πà‡∏°", c: "AGE", color: "#00ccff" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏î‡∏∑‡πà‡∏°", c: "AGE", color: "#00ccff" },
    { t: "‡∏Ñ‡∏ô‡πÉ‡∏™‡πà‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏î‡∏∑‡πà‡∏°", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°", c: "FAMILY", color: "#00ccff" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏°‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ...‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤ (‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏î‡∏∑‡πà‡∏°‡πÄ‡∏´‡∏•‡πâ‡∏≤)", c: "SAFETY", color: "#00ff88" },
    { t: "‡∏Ñ‡∏ô‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏Ñ‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏î‡∏∑‡πà‡∏°", c: "ACTION", color: "#ffae00" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ä‡πâ iPhone ‡∏î‡∏∑‡πà‡∏°", c: "LIFESTYLE", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ä‡πâ Android ‡∏î‡∏∑‡πà‡∏°", c: "LIFESTYLE", color: "#b19cd9" },
    { t: "‡∏Ñ‡∏ô‡∏ú‡∏°‡∏™‡∏±‡πâ‡∏ô‡∏î‡∏∑‡πà‡∏°", c: "LOOKS", color: "#ff00cc" },
    { t: "‡∏Ñ‡∏ô‡∏ú‡∏°‡∏¢‡∏≤‡∏ß‡∏î‡∏∑‡πà‡∏°", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏™‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡πÅ‡∏´‡∏ß‡∏ô/‡∏™‡∏£‡πâ‡∏≠‡∏¢/‡∏ï‡∏∏‡πâ‡∏°‡∏´‡∏π) ‡∏î‡∏∑‡πà‡∏°", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏ï‡∏∑‡πà‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏∑‡πà‡∏° ‡∏û‡∏±‡∏Å‡∏ï‡∏±‡∏ö", c: "LIFESTYLE", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏î‡∏∑‡πà‡∏°(‡πÄ‡∏õ‡πà‡∏≤‡∏¢‡∏¥‡πà‡∏á‡∏â‡∏∏‡∏ö‡∏ñ‡πâ‡∏≤‡∏°‡∏µ2‡∏Ñ‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ)", c: "HYGIENE", color: "#00ccff" },
    { t: "‡∏î‡∏∑‡πà‡∏°‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏°‡∏∑‡∏≠‡∏à‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏ß ‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏î‡∏∑‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°", c: "CHALLENGE", color: "#ffae00" },
    { t: "‡∏Ñ‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏î‡∏∑‡πà‡∏°!", c: "DARE", color: "#ff3b3b" },
    { t: "‡∏ä‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡∏£‡∏≠‡∏ö‡∏ß‡∏á!", c: "PARTY", color: "#ffd700" },
    { t: "‡∏Ñ‡∏ô‡∏Å‡∏î‡∏™‡∏∏‡πà‡∏°‡∏î‡∏∑‡πà‡∏°‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÅ‡∏Å‡πâ‡∏ß", c: "BAD LUCK", color: "#888" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏°‡∏≤‡∏ñ‡∏∂‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡∏∑‡πà‡∏°", c: "TIME", color: "#b19cd9" },
    { t: "‡∏Ñ‡∏ô‡∏Ñ‡∏≠‡∏≠‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏á...‡∏î‡∏∑‡πà‡∏°!(‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏á‡∏õ‡∏¥‡∏î‡∏ï‡∏≤‡πÇ‡∏´‡∏ß‡∏ï)", c: "VOTE", color: "#ff3b3b" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°...‡∏î‡∏∑‡πà‡∏°!", c: "BODY", color: "#ff00cc" },
    { t: "‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏£‡∏≠‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∑‡πà‡∏°", c: "‡∏î‡∏ß‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", color: "#ffd700" },
    { t: "‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏ô‡πÄ‡∏ó‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏ß‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏Å‡∏¥‡∏ô‡πÑ‡∏´‡∏°", c: "‡∏î‡∏ß‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", color: "#ffd700" },
    { t: "‡∏•‡∏∏‡∏Å‡πÄ‡∏ï‡πâ‡∏ô '‡∏á‡∏±‡∏î‡∏ñ‡∏±‡πà‡∏á‡∏á‡∏±‡∏î' ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô...‡∏î‡∏∑‡πà‡∏°!", c: "DANCE", color: "#ffae00" },
    { t: "‡∏Ñ‡∏ô‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡∏î‡∏∏‡∏°‡∏î‡∏∑‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏∏‡∏°", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å", c: "GAME MASTER", color: "#ffd700" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏£‡∏∞ (‡πÄ‡∏≠, ‡πÅ‡∏≠, ‡πÇ‡∏≠) ‡∏î‡∏∑‡πà‡∏°!", c: "NAME", color: "#00ccff" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏ñ‡∏∑‡∏≠‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ...‡∏î‡∏∑‡πà‡∏°!", c: "ADDICT", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏™‡∏∞‡∏û‡∏≤‡∏¢‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏°‡∏≤...‡∏î‡∏∑‡πà‡∏°!", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡∏™‡∏±‡∏Å...‡∏î‡∏∑‡πà‡∏°!", c: "INK", color: "#555" },
    { t: "‡∏Ñ‡∏ô‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏™‡∏≤‡∏ß‡∏î‡∏∑‡πà‡∏° ‡∏Ñ‡∏ô‡∏°‡∏µ‡∏ô‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏ß‡∏£‡∏≠‡∏î!", c: "FAMILY", color: "#00ccff" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÅ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡∏î‡∏∑‡πà‡∏° (‡πÅ‡∏Ñ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏î‡∏∑‡πà‡∏°‡∏î‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏´‡∏≤‡∏¢)", c: "FAMILY", color: "#00ccff" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ñ‡∏¢‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢...‡∏û‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏î‡∏∑‡πà‡∏°‡πÅ‡∏ó‡∏ô (‡∏î‡∏∑‡πà‡∏°‡∏õ‡∏•‡∏≠‡∏ö‡πÉ‡∏à‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô)", c: "SCHOOL", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏°‡∏≤‡∏à‡∏±‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô...‡∏î‡∏∑‡πà‡∏°!", c: "FASHION", color: "#ff00cc" },
    { t: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡πÉ‡∏Ñ‡∏£‡∏ô‡∏≠‡∏ô‡πÄ‡∏£‡πá‡∏ß (‡∏Å‡πà‡∏≠‡∏ô 2 ‡∏ó‡∏∏‡πà‡∏°) ‡∏î‡∏∑‡πà‡∏°!", c: "LIFESTYLE", color: "#b19cd9" },
    { t: "‡∏Ñ‡∏ô‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡∏î‡∏∏‡∏°‡∏£‡∏≠‡∏î ‡∏Ñ‡∏ô‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡∏î‡∏∏‡∏°‡∏î‡∏∑‡πà‡∏°‡∏°‡∏°!(‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏Å‡∏î‡∏î‡∏∑‡πà‡∏°)", c: "LOOKS", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏´‡∏≠‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ...‡∏î‡∏∑‡πà‡∏°!", c: "SMELL", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏£‡∏∞‡∏ú‡∏°‡∏°‡∏≤...‡∏î‡∏∑‡πà‡∏°!", c: "HYGIENE", color: "#555" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÅ‡∏ü‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∏‡πà‡∏ô‡∏û‡∏µ‡πà...‡∏î‡∏∑‡πà‡∏°!", c: "EX-LOVE", color: "#ff3b3b" },
    { t: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏¥‡∏ô", c: "FRIEND", color: "#00ff88" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏î‡∏∑‡πà‡∏° ...‡∏î‡∏∑‡πà‡∏°!", c: "Luck", color: "#ff3b3b" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏≠‡∏±‡∏û‡∏™‡∏ï‡∏≠‡∏£‡∏µ‡πà IG ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏≠‡∏±‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ...‡∏î‡∏∑‡πà‡∏°!", c: "SOCIAL", color: "#b19cd9" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏µ‡πà...‡∏î‡∏∑‡πà‡∏°!", c: "LUCK", color: "#ffd700" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà...‡∏î‡∏∑‡πà‡∏°!", c: "LUCK", color: "#ffd700" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏≠‡∏≤‡∏¢‡∏∏‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏µ‡πà...‡∏î‡∏∑‡πà‡∏°!", c: "LUCK", color: "#ffd700" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏≠‡∏≤‡∏¢‡∏∏‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà...‡∏î‡∏∑‡πà‡∏°!", c: "LUCK", color: "#ffd700" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏ô‡∏±‡πà‡∏á‡πÉ‡∏Å‡∏•‡πâ‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏∑‡πà‡∏°", c: "LUCK", color: "#ffd700" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏£‡∏∞ (‡∏≠‡∏¥, ‡∏≠‡∏µ, ‡∏≠‡∏≤) ‡∏î‡∏∑‡πà‡∏°!", c: "NAME", color: "#00ccff" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ñ‡∏¢‡πÇ‡∏Å‡∏´‡∏Å‡πÅ‡∏°‡πà‡∏ß‡πà‡∏≤ '‡∏ô‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô' ‡πÅ‡∏ï‡πà‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ...‡∏î‡∏∑‡πà‡∏°!", c: "SECRET", color: "#ff3b3b" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ñ‡∏¢ '‡∏â‡∏µ‡πà‡∏£‡∏≤‡∏î' ‡∏ï‡∏≠‡∏ô‡πÇ‡∏ï‡πÅ‡∏•‡πâ‡∏ß (‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏°‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏î‡∏∑‡πà‡∏°‡∏¢‡∏Å‡∏ß‡∏á) ‡∏î‡∏∑‡πà‡∏°!", c: "SECRET", color: "#888" },
    { t: "‡∏ä‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥‡∏£‡∏≠‡∏ö‡∏ß‡∏á‡πÄ‡∏ö‡∏≤‡πÜ ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏£‡∏π‡πâ!", c: "QUIET", color: "#00ff88" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏á ‡∏î‡∏∑‡πà‡∏°!", c: "HAPPY", color: "#ffae00" },
    // --- ‡πÇ‡∏ã‡∏ô‡∏à‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤ ---
    { t: "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß (‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô‡∏ô‡∏∞)...‡∏î‡∏∑‡πà‡∏°!", c: "LOOKS", color: "#fff" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏™‡πà‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏™‡∏µ‡∏â‡∏π‡∏î‡∏â‡∏≤‡∏î (‡πÅ‡∏î‡∏á/‡∏™‡πâ‡∏°/‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á) ‡∏î‡∏∑‡πà‡∏°!", c: "UNDERWEAR", color: "#ff3b3b" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏°‡∏≤...‡∏î‡∏∑‡πà‡∏° (‡πÅ‡∏Å‡πâ‡∏´‡∏ô‡∏≤‡∏ß)", c: "Cool", color: "#ff3b3b" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏ï‡∏Å...‡∏î‡∏∑‡πà‡∏°‡∏ã‡∏∞ ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏™‡∏π‡πâ‡∏Å‡∏•‡∏±‡∏ö!", c: "SAD", color: "#888" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ...‡∏î‡∏∑‡πà‡∏°‡∏ã‡∏±‡∏ö‡∏°‡∏±‡∏ô‡∏´‡∏ô‡πà‡∏≠‡∏¢", c: "FACE", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏≠‡πâ‡∏ß‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡πÇ‡∏•...‡∏î‡∏∑‡πà‡∏°!", c: "BODY", color: "#ff00cc" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏ô‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏á ‡∏î‡∏∑‡πà‡∏°!", c: "MAKEUP", color: "#ff00cc" },
    // --- ‡πÇ‡∏ã‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏° & ‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏• ---
    { t: "‡πÉ‡∏Ñ‡∏£‡πÅ‡∏ö‡∏ï‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 20% ‡∏î‡∏∑‡πà‡∏°!", c: "BATTERY", color: "#ff3b3b" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏π‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á...‡∏î‡∏∑‡πà‡∏° (‡∏´‡∏•‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ô‡∏∞)", c: "NARCISSIST", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£ Follow IG ‡∏¢‡∏≠‡∏î‡∏ü‡∏≠‡∏•‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏¢‡∏≠‡∏î‡∏ü‡∏≠‡∏•‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô...‡∏î‡∏∑‡πà‡∏°!", c: "SOCIAL", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏î‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡πÄ‡∏Å‡πà‡∏á ‡∏ï‡∏≠‡∏ö‡∏ä‡πâ‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡∏ß‡∏±‡∏ô...‡∏î‡∏∑‡πà‡∏°!", c: "SOCIAL", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏Å‡∏î‡πÉ‡∏à TikTok ‡∏Ñ‡∏£‡∏¥‡∏õ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î‡∏Å‡∏î‡πÉ‡∏à‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏∏‡∏î ‡∏î‡∏∑‡πà‡∏°!", c: "SOCIAL", color: "#000" },
    { t: "‡πÉ‡∏Ñ‡∏£‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ...‡∏î‡∏∑‡πà‡∏°‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏≤‡∏Å", c: "RUDE", color: "#555" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÅ‡∏ö‡∏ï‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ 90-50% (‡∏û‡∏ß‡∏Å‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏°‡∏≤‡∏î‡∏µ)...‡∏î‡∏∑‡πà‡∏°!", c: "BATTERY", color: "#00ff88" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏µ‡πà (‡∏°.‡∏Ñ., ‡∏°‡∏µ.‡∏Ñ., ‡∏û.‡∏Ñ., ...) ‡∏î‡∏∑‡πà‡∏°!", c: "BIRTH MONTH", color: "#00ccff" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏π‡πà (‡∏Å.‡∏û., ‡πÄ‡∏°.‡∏¢., ‡∏°‡∏¥.‡∏¢., ...) ‡∏î‡∏∑‡πà‡∏°!", c: "BIRTH MONTH", color: "#00ccff" },
    // --- ‡πÇ‡∏ã‡∏ô‡∏ß‡∏±‡∏î‡∏î‡∏ß‡∏á & Action ---
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå...‡∏î‡∏∑‡πà‡∏°!", c: "BIRTHDAY", color: "#ff0000" }, // ‡∏™‡∏µ‡πÅ‡∏î‡∏á
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå...‡∏î‡∏∑‡πà‡∏°!", c: "BIRTHDAY", color: "#ffff00" }, // ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå...‡∏î‡∏∑‡πà‡∏°!", c: "BIRTHDAY", color: "#00ccff" }, // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤
    { t: "‡πÇ‡∏¢‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏´‡∏±‡∏ß‡∏Å‡πâ‡∏≠‡∏¢ (‡∏≠‡∏≠‡∏Å‡∏´‡∏±‡∏ß=‡∏ã‡πâ‡∏≤‡∏¢‡∏î‡∏∑‡πà‡∏°, ‡∏≠‡∏≠‡∏Å‡∏Å‡πâ‡∏≠‡∏¢=‡∏Ç‡∏ß‡∏≤‡∏î‡∏∑‡πà‡∏°)", c: "LUCK", color: "#ffd700" },
    { t: "‡∏à‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏° ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ï‡∏≤ ‡πÉ‡∏Ñ‡∏£‡πÅ‡∏û‡πâ‡∏î‡∏∑‡πà‡∏°!", c: "BATTLE", color: "#ff3b3b" },
    { t: "‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏≤‡∏á (‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏î‡∏∑‡πà‡∏°‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡∏ß!)", c: "DARE", color: "#ff3b3b" },
    { t: "‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏∑‡∏≠‡∏´‡∏¢‡∏¥‡∏Å‡πÅ‡∏Å‡πâ‡∏° 1 ‡∏ó‡∏µ (‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏¥‡∏Å ‡∏î‡∏∑‡πà‡∏°)", c: "TOUCH", color: "#ffae00" },
    { t: "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ô‡∏µ‡πâ! (‡∏Ñ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡∏î‡∏∑‡πà‡∏°)", c: "ACTION", color: "#00ff88" },
    { t: "‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡πÅ‡∏ö‡∏ö‡∏ô‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏¢ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏î‡∏∑‡πà‡∏°)", c: "ACTING", color: "#b19cd9" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡∏î‡∏∑‡πà‡∏°‡∏â‡∏•‡∏≠‡∏á!", c: "BIRTHDAY", color: "#ffd700" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÇ‡∏™‡∏î‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏õ‡∏µ ‡∏î‡∏∑‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÄ‡∏´‡∏á‡∏≤", c: "LONELY", color: "#555" },
    // --- ‡πÇ‡∏ã‡∏ô Hardcore 18+ & ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ---
    { t: "‡πÉ‡∏Ñ‡∏£‡∏°‡∏µ‡πÅ‡∏≠‡∏û‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 2 ‡πÅ‡∏≠‡∏û ‡∏î‡∏∑‡πà‡∏°!", c: "MONEY", color: "#00ff88" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ñ‡∏¢‡πÇ‡∏î‡∏ô‡∏à‡∏±‡∏ö‡πÄ‡∏õ‡πà‡∏≤‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå...‡∏î‡∏∑‡πà‡∏°!", c: "POLICE", color: "#ff3b3b" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ñ‡∏¢‡∏à‡∏π‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏®‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡∏î‡∏∑‡πà‡∏°!", c: "SECRET", color: "#ff00cc" },
    { t: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡∏î‡∏∑‡πà‡∏°!", c: "LOUD", color: "#ffae00" },
    { t: "‡πÉ‡∏Ñ‡∏£‡πÄ‡∏ñ‡∏µ‡∏¢‡∏á‡πÄ‡∏Å‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏á ‡∏î‡∏∑‡πà‡∏° 2 ‡∏ä‡πá‡∏≠‡∏ï!", c: "ARGUE", color: "#ff3b3b" },
    { t: "‡∏Ñ‡∏ô‡∏Å‡∏î‡∏•‡∏∏‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏≤‡∏á‡πÅ‡∏ö‡∏ö 5 ‡∏Å‡πâ‡∏≤‡∏ß ‡πÉ‡∏Ñ‡∏£‡∏Ç‡∏≥ ‡∏î‡∏∑‡πà‡∏°(‡πÑ‡∏°‡πà‡∏•‡∏∏‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏î‡∏∑‡πà‡∏° 2 ‡πÅ‡∏Å‡πâ‡∏ß)", c: "MODEL", color: "#ff00cc" },
    { t: "‡∏ó‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏°‡∏≤/‡πÅ‡∏°‡∏ß 3 ‡∏ß‡∏¥ (‡πÑ‡∏°‡πà‡∏ó‡∏≥ ‡∏î‡∏∑‡πà‡∏° 2 ‡∏ä‡πá‡∏≠‡∏ï)", c: "ACTING", color: "#ffae00" },
    { t: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡∏Ñ‡∏ô ‡∏î‡∏∑‡πà‡∏°‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏∏‡∏ì 1 ‡πÅ‡∏Å‡πâ‡∏ß", c: "VIP", color: "#ffd700" },
    { t: "‡∏Ñ‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏Ç‡∏ß‡∏≤‡πÄ‡∏õ‡πà‡∏≤‡∏¢‡∏¥‡πâ‡∏á‡∏â‡∏∏‡∏ö ‡∏Ñ‡∏ô‡πÅ‡∏û‡πâ‡∏î‡∏∑‡πà‡∏°!", c: "BATTLE", color: "#ff3b3b" },
    { t: "‡∏î‡∏∑‡πà‡∏°‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÅ‡∏Å‡πâ‡∏ß ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ", c: "SILENCE", color: "#888" }
];

const specialGamesList = [
    { t: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ 40 ‡∏ß‡∏¥ ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏õ‡∏•‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô ‚Üí ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏° 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", c: "MINI GAME", color: "#ffca28", type: "timer", time: 40 },
    { t: "‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà 5.00 ‡∏ß‡∏¥ (¬±0.10) ‡πÉ‡∏Ñ‡∏£‡∏û‡∏•‡∏≤‡∏î‡∏î‡∏∑‡πà‡∏°!", c: "SKILL", color: "#42a5f5", type: "stopwatch", target: 5.00, range: 0.10 },
    { t: "‡∏™‡πà‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ß‡∏ô‡πÑ‡∏õ ‡∏Å‡∏î‡πÄ‡∏´‡∏ô‡∏µ‡πà‡∏¢‡∏ß‡πÑ‡∏Å..‡πÉ‡∏Ñ‡∏£‡πÇ‡∏î‡∏ô‡∏î‡∏∑‡πà‡∏°!", c: "LUCK", color: "#ef5350", type: "roulette" },
    { t: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏î‡∏™‡∏≤‡∏¢‡πÑ‡∏ü 1 ‡πÄ‡∏™‡πâ‡∏ô...‡πÉ‡∏Ñ‡∏£‡∏ó‡∏≥‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡∏î‡∏∑‡πà‡∏°!", c: "BOMB", color: "#ef5350", type: "bomb" },
    { t: "‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥! ‡∏à‡∏≥‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ‡∏î‡∏µ ‡∏ó‡∏≤‡∏¢‡∏ú‡∏¥‡∏î‡∏î‡∏∑‡πà‡∏°!", c: "MEMORY", color: "#ab47bc", type: "memory" },
    { t: "AI ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö! ‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏¥‡πâ‡∏° 10 ‡∏ß‡∏¥ (‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á)", c: "AI CHALLENGE", color: "#fff", type: "dontsmile" }
];

// =================== 2. ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏£‡∏∞‡∏ö‡∏ö ===================
let availableQuestions = [...normalQuestions];
let history = []; 
let turnCount = 0;
let nextGameThreshold = Math.floor(Math.random() * 4) + 7; 

let soundEnabled = true;
const clickSound = document.getElementById("clickSound");
const resultSound = document.getElementById("resultSound");
const alarmSound = document.getElementById("alarmSound");
const gunSound = document.getElementById("gunSound");
const bangSound = document.getElementById("bangSound");
const soundToggle = document.getElementById("sound-toggle");

const resultDisplay = document.getElementById('wheel-result');
const spinBtn = document.getElementById('spin-btn');
const countDisplay = document.getElementById('count-display');
const categoryBadge = document.getElementById('category-badge');
const specialGameArea = document.getElementById('special-game-area');

// =================== 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å ===================

soundToggle.onclick = () => {
    soundEnabled = !soundEnabled;
    soundToggle.innerText = soundEnabled ? "üîä ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á" : "üîá ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á";
    soundToggle.style.opacity = soundEnabled ? "1" : "0.5";
};

function playSound(sound) {
    if (soundEnabled) {
        sound.currentTime = 0;
        sound.play().catch(e => {});
    }
}

function updateCountDisplay() {
    countDisplay.innerText = `${availableQuestions.length} / ${normalQuestions.length}`;
}

updateCountDisplay();

function startSpin() {
    specialGameArea.style.display = 'none';
    specialGameArea.innerHTML = ''; 
    categoryBadge.style.opacity = '0';
    
    if (availableQuestions.length === 0) {
        alert("üéâ ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß! ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÉ‡∏´‡∏°‡πà");
        availableQuestions = [...normalQuestions];
        history = [];
        updateCountDisplay();
    }

    playSound(clickSound); 
    spinBtn.disabled = true;
    resultDisplay.classList.remove("pop-in");
    resultDisplay.classList.add("blur-anim");

    let shuffleInterval = setInterval(() => {
        const randomQ = availableQuestions[Math.floor(Math.random() * availableQuestions.length)];
        resultDisplay.innerText = randomQ ? randomQ.t : "Loading...";
    }, 50);

    setTimeout(() => {
        clearInterval(shuffleInterval);
        processResult();
    }, 1200);
}

function processResult() {
    turnCount++;
    let selectedObj;

    if (turnCount >= nextGameThreshold) {
        const gameIndex = Math.floor(Math.random() * specialGamesList.length);
        selectedObj = specialGamesList[gameIndex];
        turnCount = 0;
        nextGameThreshold = Math.floor(Math.random() * 4) + 7;
    } else {
        const index = Math.floor(Math.random() * availableQuestions.length);
        selectedObj = availableQuestions[index];
        availableQuestions.splice(index, 1);
    }

    history.unshift(selectedObj);
    resultDisplay.classList.remove("blur-anim");
    resultDisplay.innerText = selectedObj.t;
    categoryBadge.innerText = selectedObj.c;
    categoryBadge.style.backgroundColor = selectedObj.color;
    categoryBadge.style.color = "#000"; 
    categoryBadge.style.opacity = '1';

    void resultDisplay.offsetWidth; 
    resultDisplay.classList.add("pop-in");
    playSound(resultSound);

    if (selectedObj.type) {
        setupGame(selectedObj);
    } else {
        spinBtn.disabled = false;
    }
    updateCountDisplay();
}

// =================== 4. Logic Games ===================

async function setupGame(gameObj) {
    specialGameArea.style.display = 'flex';
    if (gameObj.type === 'timer') setupTimerGame(gameObj.time);
    else if (gameObj.type === 'stopwatch') setupStopwatchGame(gameObj.target, gameObj.range);
    else if (gameObj.type === 'roulette') setupRouletteGame();
    else if (gameObj.type === 'bomb') setupBombGame();
    else if (gameObj.type === 'memory') setupMemoryGame();
    else if (gameObj.type === 'dontsmile') {
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏°‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏¥‡πâ‡∏° ‡∏ã‡πà‡∏≠‡∏ô UI ‡πÄ‡∏î‡∏¥‡∏°‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î Overlay
        specialGameArea.innerHTML = `<button class="game-btn" onclick="setupSmileGame()">üì∏ ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á >></button>${getSkipButtonHTML()}`;
    }
}

function skipGame() {
    clearInterval(window.currentInterval);
    specialGameArea.style.display = 'none';
    spinBtn.disabled = false;
    playSound(clickSound);
}

function getSkipButtonHTML() {
    return `<button class="skip-btn" onclick="skipGame()">‚è≠ ‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ</button>`;
}

// --- Game 1-5 Logic (‡πÄ‡∏î‡∏¥‡∏°) ---
function setupTimerGame(seconds) {
    specialGameArea.innerHTML = `<button class="game-btn" onclick="runTimer(${seconds})">‚è±Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ (${seconds} ‡∏ß‡∏¥)</button>${getSkipButtonHTML()}`;
}
function runTimer(seconds) {
    let timeLeft = seconds;
    specialGameArea.innerHTML = `<div class="timer-text" id="game-timer">${timeLeft}</div>${getSkipButtonHTML()}`;
    window.currentInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('game-timer').innerText = timeLeft;
        if (timeLeft <= 5 && timeLeft > 0) playSound(clickSound);
        if (timeLeft <= 0) {
            clearInterval(window.currentInterval);
            document.getElementById('game-timer').innerText = "‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤!";
            playSound(alarmSound);
            spinBtn.disabled = false;
        }
    }, 1000);
}
function setupStopwatchGame(target, range) {
    specialGameArea.innerHTML = `<div style="margin-bottom:5px;">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ${target.toFixed(2)}</div><button class="game-btn" id="stopwatch-btn" onclick="runStopwatch(${target}, ${range})">‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°!</button>${getSkipButtonHTML()}`;
}
function runStopwatch(target, range) {
    let startTime = Date.now();
    specialGameArea.innerHTML = `<div class="timer-text" id="sw-display">0.00</div><button class="game-btn" onclick="stopStopwatch(this, ${target}, ${range})">üü• ‡∏´‡∏¢‡∏∏‡∏î!</button>${getSkipButtonHTML()}`;
    window.currentInterval = setInterval(() => {
        const elapsed = (Date.now() - startTime) / 1000;
        document.getElementById('sw-display').innerText = elapsed.toFixed(2);
    }, 30);
}
function stopStopwatch(btn, target, range) {
    clearInterval(window.currentInterval);
    const finalTime = parseFloat(document.getElementById('sw-display').innerText);
    const diff = Math.abs(finalTime - target);
    if (diff <= range) { btn.innerText = "üéâ ‡∏£‡∏≠‡∏î!"; btn.style.background = "#00e676"; playSound(resultSound); }
    else { btn.innerText = "üíÄ ‡∏î‡∏∑‡πà‡∏°!"; btn.style.background = "#ef5350"; playSound(alarmSound); }
    btn.disabled = true; spinBtn.disabled = false;
}
function setupRouletteGame() {
    window.bulletChamber = Math.floor(Math.random() * 6);
    window.currentChamber = 0;
    specialGameArea.innerHTML = `<div id="roulette-status" style="margin-bottom:10px;">‡∏ô‡∏±‡∏î‡∏ó‡∏µ‡πà 1 / 6</div><button class="game-btn" id="trigger-btn" onclick="pullTrigger()">ü§û ‡πÄ‡∏´‡∏ô‡∏µ‡πà‡∏¢‡∏ß‡πÑ‡∏Å</button>${getSkipButtonHTML()}`;
}
function pullTrigger() {
    const btn = document.getElementById('trigger-btn');
    playSound(gunSound); btn.disabled = true;
    setTimeout(() => {
        if (window.currentChamber === window.bulletChamber) {
            playSound(bangSound);
            specialGameArea.innerHTML = `<div class="timer-text">üí•</div><div style="color:#ef5350; font-weight:bold;">‡∏õ‡∏±‡∏á! ‡∏î‡∏∑‡πà‡∏°‡∏ã‡∏∞</div>${getSkipButtonHTML()}`;
            spinBtn.disabled = false;
        } else {
            playSound(clickSound); window.currentChamber++;
            btn.disabled = false;
            document.getElementById('roulette-status').innerText = `‡∏ô‡∏±‡∏î‡∏ó‡∏µ‡πà ${window.currentChamber + 1} / 6 (‡∏£‡∏≠‡∏î...)`;
        }
    }, 600);
}
function setupBombGame() {
    const bombWire = Math.floor(Math.random() * 4);
    const colors = ["#ef5350", "#00e676", "#42a5f5", "#ffca28"];
    let wiresHTML = colors.map((color, i) => `<div class="wire-btn" style="background:${color}" onclick="cutWire(this, ${i === bombWire})"></div>`).join('');
    specialGameArea.innerHTML = `<div class="wire-container">${wiresHTML}</div>${getSkipButtonHTML()}`;
}
function cutWire(el, isBomb) {
    if (isBomb) {
        playSound(bangSound); 
        el.style.background = "#000"; el.style.boxShadow = "0 0 20px #ff3b3b"; el.innerText = "üí•";
        specialGameArea.style.animation = "shake 0.5s";
        setTimeout(() => { specialGameArea.style.animation = ""; }, 500);
        resultDisplay.innerText = "‡∏ö‡∏∂‡πâ‡∏°‡∏°‡∏°! ‡∏î‡∏∑‡πà‡∏°‡∏°‡∏°!";
        spinBtn.disabled = false;
        document.querySelectorAll('.wire-btn').forEach(b => { b.onclick = null; b.style.cursor = "default"; });
    } else {
        playSound(clickSound); el.style.opacity = "0.1"; el.style.pointerEvents = "none";
    }
}
function setupMemoryGame() {
    const num = Math.floor(10000 + Math.random() * 90000);
    specialGameArea.innerHTML = `<div style="font-size:0.9rem; margin-bottom:10px; color:#aaa;">‡∏à‡∏î‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ‡πÉ‡∏ô 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ!</div><div class="timer-text" id="mem-num" style="color:#00e676;">${num}</div><div style="width:100%; height:6px; background:#333; border-radius:10px; overflow:hidden; margin-top:10px;"><div id="mem-progress" style="width:100%; height:100%; background:#00e676; transition: width 5s linear;"></div></div>`;
    setTimeout(() => { const progressBar = document.getElementById('mem-progress'); if(progressBar) progressBar.style.width = '0%'; }, 50);
    setTimeout(() => {
        const memNumDisplay = document.getElementById('mem-num');
        if (memNumDisplay) {
            specialGameArea.innerHTML = `<div style="font-size:1.1rem; margin-bottom:15px; font-weight:bold;">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏µ‡πâ‡πÄ‡∏•‡∏Ç‡∏≠‡∏∞‡πÑ‡∏£!?</div><input type="number" id="mem-input" autocomplete="off" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÑ‡∏î‡πâ" style="padding:15px; border-radius:12px; border:2px solid #00e676; width:90%; text-align:center; font-size:1.8rem; background:#000; color:#fff; margin-bottom:15px; outline:none;"><button class="game-btn" onclick="checkMemory(${num})" style="background:#00e676; color:#000;">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>${getSkipButtonHTML()}`;
            document.getElementById('mem-input').focus();
        }
    }, 5000);
}
function checkMemory(correct) {
    const inputEl = document.getElementById('mem-input');
    const val = parseInt(inputEl.value);
    if (val === correct) { resultDisplay.innerText = "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏£‡∏≠‡∏î‡∏ï‡∏≤‡∏¢"; playSound(resultSound); }
    else { resultDisplay.innerText = `‡∏ú‡∏¥‡∏î! ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠ ${correct}`; playSound(alarmSound); }
    specialGameArea.innerHTML = getSkipButtonHTML(); spinBtn.disabled = false;
}

// =================== New: Don't Smile Game Logic ===================
// =================== Logic ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÄ‡∏Å‡∏°‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏¥‡πâ‡∏° (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡∏´‡∏ô‡πâ‡∏≤) ===================
let smileInterval;
let gameTimerInterval;

async function setupSmileGame() {
    const overlay = document.getElementById('camera-overlay');
    const status = document.getElementById('smile-status');
    const timerDisplay = document.getElementById('smile-timer');
    const video = document.getElementById('camera-video');
    const backBtn = document.querySelector('.back-btn');
    
    // Reset UI
    overlay.style.display = 'flex';
    overlay.classList.remove("smile-detected");
    status.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏•‡∏∏‡∏Å AI... (‡∏£‡∏≠‡πÅ‡∏õ‡πä‡∏ö)";
    status.style.color = "#fff";
    timerDisplay.innerText = "--";
    backBtn.style.display = 'none'; 

    try {
        // Load Models
        await faceapi.nets.tinyFaceDetector.loadFromUri('https://justadudewhohacks.github.io/face-api.js/models');
        await faceapi.nets.faceExpressionNet.loadFromUri('https://justadudewhohacks.github.io/face-api.js/models');
        
        // Open Camera
        const stream = await navigator.mediaDevices.getUserMedia({ video: {} });
        video.srcObject = stream;
        
        status.innerText = "‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°...";
        
        video.addEventListener('play', () => {
            startSmileDetection(video);
        });

    } catch (err) {
        console.error(err);
        alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ (‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏ô‡πá‡∏ï ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏Å‡∏•‡πâ‡∏≠‡∏á)");
        closeCameraGame();
    }
}

function startSmileDetection(video) {
    const status = document.getElementById('smile-status');
    const timerDisplay = document.getElementById('smile-timer');
    const backBtn = document.querySelector('.back-btn');
    
    let timeLeft = 10;
    let gameStarted = false; // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

    timerDisplay.innerText = "‡∏£‡∏≠‡∏´‡∏ô‡πâ‡∏≤..."; // ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö
    
    // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå Interval ‡πÄ‡∏Å‡πà‡∏≤ (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ñ‡πâ‡∏≤‡∏á)
    clearInterval(gameTimerInterval);
    clearInterval(smileInterval);

    // AI Loop (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏´‡∏ô‡πâ‡∏≤)
    smileInterval = setInterval(async () => {
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤
        const detections = await faceapi.detectAllFaces(video, new faceapi.TinyFaceDetectorOptions()).withFaceExpressions();
        
        if (detections.length > 0) {
            // === ‡πÄ‡∏à‡∏≠‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß ===

            // 1. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏° ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ!
            if (!gameStarted) {
                gameStarted = true;
                status.innerText = "‡∏à‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß! ‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏¥‡πâ‡∏°!";
                status.style.color = "#ef5350";
                timerDisplay.innerText = timeLeft;

                // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 10 ‡∏ß‡∏¥
                gameTimerInterval = setInterval(() => {
                    timeLeft--;
                    timerDisplay.innerText = timeLeft;
                    
                    if (timeLeft <= 0) {
                        // Win Logic
                        clearInterval(gameTimerInterval);
                        clearInterval(smileInterval);
                        status.innerText = "üéâ ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏£‡∏≠‡∏î‡∏ï‡∏±‡∏ß‡πÑ‡∏õ";
                        status.style.color = "#00e676";
                        playSound(resultSound);
                        backBtn.style.display = 'inline-block';
                    }
                }, 1000);
            }

            // 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏° (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß)
            const happiness = detections[0].expressions.happy;
            if (happiness > 0.4) { // Sensitivity
                failSmileGame();
            }

        } else {
            // === ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤ ===
            if (!gameStarted) {
                status.innerText = "‡∏Ç‡∏¢‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢...";
                status.style.color = "#ffca28";
            }
        }
    }, 100);
}

function failSmileGame() {
    clearInterval(gameTimerInterval);
    clearInterval(smileInterval);
    
    const status = document.getElementById('smile-status');
    const overlay = document.getElementById('camera-overlay');
    const backBtn = document.querySelector('.back-btn');
    
    status.innerHTML = "üíÄ ‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß! ‡∏¢‡∏¥‡πâ‡∏°‡∏ó‡∏≥‡πÑ‡∏°!<br>‡∏î‡∏∑‡πà‡∏°‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡∏ß!";
    status.style.color = "#ef5350";
    overlay.classList.add("smile-detected");
    
    playSound(alarmSound); 
    playSound(bangSound);
    
    backBtn.style.display = 'inline-block'; 
}

function closeCameraGame() {
    const overlay = document.getElementById('camera-overlay');
    const video = document.getElementById('camera-video');
    
    if (video.srcObject) {
        video.srcObject.getTracks().forEach(track => track.stop());
    }
    
    clearInterval(smileInterval);
    clearInterval(gameTimerInterval);
    
    overlay.style.display = 'none';
    specialGameArea.style.display = 'none'; 
    spinBtn.disabled = false; 
    resultDisplay.innerText = "‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ‡πÑ‡∏õ‡∏ï‡πà‡∏≠?";
}
// =================== History ===================
function openHistory() {
    playSound(clickSound); historyModal.classList.add('active');
    if (history.length === 0) { historyListDisplay.innerHTML = '<li style="text-align:center; padding:20px;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</li>'; return; }
    historyListDisplay.innerHTML = history.map(h => `<li class="history-item"><span class="history-tag" style="background:${h.color}">${h.c}</span><span style="flex:1;">${h.t}</span></li>`).join("");
}
function closeHistory() { historyModal.classList.remove('active'); }
historyModal.addEventListener('click', (e) => { if (e.target === historyModal) closeHistory(); });
</script>
</body>
</html>
